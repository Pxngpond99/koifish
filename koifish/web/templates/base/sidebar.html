<div class="drawer-side shadow-md h-screen">
  <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay h-full"></label>

  <ul class="menu p-4 w-80 min-h-full text-base-content bg-white flex flex-col justify-between
      overflow-y-scroll h-screen">
    <div class="mr-4 flex flex-col">
      <div class="flex justify-center">
        <img src="../../../static/images/logo-koifish.jpg" width="100" height="100">
      </div>
      <!-- Sidebar content here -->
      <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2"
          href="{{ url_for('dashboard.index') }}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor"
              d="M13 9V3h8v6zM3 13V3h8v10zm10 8V11h8v10zM3 21v-6h8v6zm2-10h4V5H5zm10 8h4v-6h-4zm0-12h4V5h-4zM5 19h4v-2H5zm4-2" />
          </svg>
          แดชบอร์ด</a></li>


      <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2"
          href="{{ url_for('products.index')}}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor"
              d="M4 19h2v-8h12v8h2V8.35l-8-3.2l-8 3.2zm-2 2V7l10-4l10 4v14h-6v-8H8v8zm7 0v-2h2v2zm2-3v-2h2v2zm2 3v-2h2v2zM6 11h12z" />
          </svg> สินค้า</a></li>
      <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2"
          href="{{ url_for('product_offers.index' ) }}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 256 256">
            <path fill="currentColor"
              d="m184.49 120.49l-32 32a12 12 0 0 1-17 0L112 129l-23.51 23.49a12 12 0 0 1-17-17l32-32a12 12 0 0 1 17 0L144 127l23.51-23.52a12 12 0 0 1 17 17ZM236 128a108 108 0 0 1-157.23 96.15L46.34 235A20 20 0 0 1 21 209.66l10.81-32.43A108 108 0 1 1 236 128m-24 0a84 84 0 1 0-156.73 42.05a12 12 0 0 1 1 9.82l-9.93 29.79l29.79-9.93a12.1 12.1 0 0 1 3.8-.62a12 12 0 0 1 6 1.62A84 84 0 0 0 212 128" />
          </svg>ข้อเสนอสินค้า</a>
      </li>
      <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2"
          href="{{ url_for('orders.index' ) }}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor"
              d="M9 18h11v-2.675H9zM4 8.675h3V6H4zm0 4.675h3v-2.675H4zM4 18h3v-2.675H4zm5-4.65h11v-2.675H9zm0-4.675h11V6H9zM4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.587 1.413T20 20z" />
          </svg>คำสั่งซื้อ</a>
      </li>
      <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2"
          href="{{ url_for('accounts.customer_index') }}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor"
              d="M0 18v-1.575q0-1.075 1.1-1.75T4 14q.325 0 .625.013t.575.062q-.35.525-.525 1.1t-.175 1.2V18zm6 0v-1.625q0-.8.438-1.463t1.237-1.162T9.588 13T12 12.75q1.325 0 2.438.25t1.912.75t1.225 1.163t.425 1.462V18zm13.5 0v-1.625q0-.65-.162-1.225t-.488-1.075q.275-.05.563-.062T20 14q1.8 0 2.9.663t1.1 1.762V18zM8.125 16H15.9q-.25-.5-1.388-.875T12 14.75t-2.512.375T8.125 16M4 13q-.825 0-1.412-.587T2 11q0-.85.588-1.425T4 9q.85 0 1.425.575T6 11q0 .825-.575 1.413T4 13m16 0q-.825 0-1.412-.587T18 11q0-.85.588-1.425T20 9q.85 0 1.425.575T22 11q0 .825-.575 1.413T20 13m-8-1q-1.25 0-2.125-.875T9 9q0-1.275.875-2.137T12 6q1.275 0 2.138.863T15 9q0 1.25-.862 2.125T12 12m0-2q.425 0 .713-.288T13 9t-.288-.712T12 8t-.712.288T11 9t.288.713T12 10m0-1" />
          </svg>ลูกค้า</a>
      </li>

      <li>
        <details open>
          <summary class="hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="m9.675 13.7l.875-2.85L8.25 9h2.85l.9-2.8l.9 2.8h2.85l-2.325 1.85l.875 2.85l-2.3-1.775zM6 23v-7.725q-.95-1.05-1.475-2.4T4 10q0-3.35 2.325-5.675T12 2t5.675 2.325T20 10q0 1.525-.525 2.875T18 15.275V23l-6-2zm6-7q2.5 0 4.25-1.75T18 10t-1.75-4.25T12 4T7.75 5.75T6 10t1.75 4.25T12 16m-4 4.025L12 19l4 1.025v-3.1q-.875.5-1.888.788T12 18t-2.113-.288T8 16.926zm4-1.55" />
            </svg>
            คะแนนสะสม
          </summary>
          <ul>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('rewards.index') }}">คลังรางวัล</a>
            </li>
          </ul>
        </details>
      </li>

      <li>
        <details open>
          <summary class="hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M4 22V11H2V5h5.2q-.125-.225-.162-.475T7 4q0-1.25.875-2.125T10 1q.575 0 1.075.213T12 1.8q.425-.4.925-.6T14 1q1.25 0 2.125.875T17 4q0 .275-.05.513T16.8 5H22v6h-2v11zM14 3q-.425 0-.712.288T13 4t.288.713T14 5t.713-.288T15 4t-.288-.712T14 3M9 4q0 .425.288.713T10 5t.713-.288T11 4t-.288-.712T10 3t-.712.288T9 4M4 7v2h7V7zm7 13v-9H6v9zm2 0h5v-9h-5zm7-11V7h-7v2z" />
            </svg>
            ส่งเสริมการขาย
          </summary>
          <ul>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('promotions.index')}}">โปรโมชัน</a>
            </li>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('privileges.index') }}">สิทธิพิเศษ</a>
            </li>
          </ul>
        </details>
      </li>

      {% if current_user.has_roles(["admin"]) %}
      <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2"
          href="{{ url_for('accounts.user_index') }}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
            <path fill="currentColor"
              d="M10 12q-1.65 0-2.825-1.175T6 8t1.175-2.825T10 4t2.825 1.175T14 8t-1.175 2.825T10 12m-8 8v-2.8q0-.825.425-1.55t1.175-1.1q1.275-.65 2.875-1.1T10 13h.35q.15 0 .3.05q-.2.45-.337.938T10.1 15H10q-1.775 0-3.187.45t-2.313.9q-.225.125-.363.35T4 17.2v.8h6.3q.15.525.4 1.038t.55.962zm14 1l-.3-1.5q-.3-.125-.562-.262T14.6 18.9l-1.45.45l-1-1.7l1.15-1q-.05-.35-.05-.65t.05-.65l-1.15-1l1-1.7l1.45.45q.275-.2.538-.337t.562-.263L16 11h2l.3 1.5q.3.125.563.275t.537.375l1.45-.5l1 1.75l-1.15 1q.05.3.05.625t-.05.625l1.15 1l-1 1.7l-1.45-.45q-.275.2-.537.338t-.563.262L18 21zm1-3q.825 0 1.413-.587T19 16t-.587-1.412T17 14t-1.412.588T15 16t.588 1.413T17 18m-7-8q.825 0 1.413-.587T12 8t-.587-1.412T10 6t-1.412.588T8 8t.588 1.413T10 10m.3 8" />
          </svg>ตั้งค่าบทบาทผู้ใช้</a></li>
      {% endif %}
      <li>
        <details open>
          <summary class="hover:text-black hover:bg-base-300 font-medium text-xl my-2 gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="m9.25 22l-.4-3.2q-.325-.125-.612-.3t-.563-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.338v-.675q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2zM11 20h1.975l.35-2.65q.775-.2 1.438-.587t1.212-.938l2.475 1.025l.975-1.7l-2.15-1.625q.125-.35.175-.737T17.5 12t-.05-.787t-.175-.738l2.15-1.625l-.975-1.7l-2.475 1.05q-.55-.575-1.212-.962t-1.438-.588L13 4h-1.975l-.35 2.65q-.775.2-1.437.588t-1.213.937L5.55 7.15l-.975 1.7l2.15 1.6q-.125.375-.175.75t-.05.8q0 .4.05.775t.175.75l-2.15 1.625l.975 1.7l2.475-1.05q.55.575 1.213.963t1.437.587zm1.05-4.5q1.45 0 2.475-1.025T15.55 12t-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12t1.013 2.475T12.05 15.5M12 12" />
            </svg>
            ตั้งค่าระบบ
          </summary>
          <ul>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('companys.index')}}">บริษัท</a>
            </li>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('customer_types.index') }}">ประเภทลูกค้า</a>
            </li>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('banners.index') }}">แบนเนอร์</a></li>

            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('settings.reward_point_ratio')}}">คำนวณคะแนนสะสม</a>
            </li>
            <li><a class=" hover:text-black hover:bg-base-300 font-medium text-xl ml-3 mt-2"
                href="{{ url_for('categories.index') }}">หมวดหมู่</a>
            </li>
          </ul>
        </details>
      </li>
      <div class="flex mx-2 w-full mt-8">
        <div class="avatar placeholder">
          <div class="bg-neutral text-neutral-content rounded-full w-12">
            <span>{{ current_user.username[0] }}</span>
          </div>
        </div>
        <div class="flex ml-2 justify-between w-full items-center">
          <div class="flex flex-col h-full w-full justify-center">
            <span>
              {{ current_user.first_name }}
            </span>
            <span class="text-gray-400">
              {{ current_user.roles[-1] }}
            </span>
          </div>
          <li class="dropdown dropdown-top dropdown-end">
            <div tabindex="0" role="button" class="mt-1 px-1">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="3.75"
                  d="M12 12h.01v.01H12zm0-7h.01v.01H12zm0 14h.01v.01H12z" />
              </svg>
            </div>
            <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
              <li><a class="font-bold py-3" href="{{ url_for('accounts.change_password') }}"><svg
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                      stroke-width="1.5"
                      d="M16.977 19.5A9 9 0 0 0 10 3.223M16.977 19.5V16m0 3.5H20.5M7 4.516a9 9 0 0 0 7 16.261M7 4.516V8m0-3.484H3.5"
                      color="currentColor" />
                  </svg>
                  เปลี่ยนรหัสผ่าน</a></li>
              <li><a class="font-bold text-error hover:text-error py-3" href="{{ url_for('accounts.logout') }}"><svg
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                      stroke-width="1.5" d="M7.023 5.5a9 9 0 1 0 9.953 0M12 2v8" color="currentColor" />
                  </svg>
                  ออกจากระบบ</a></li>
            </ul>
          </li>

        </div>
      </div>
    </div>
  </ul>
</div>

<script type="text/javascript">
  var dropdown = document.getElementsByClassName("dropdown-button");
  var chevron_right_icon = document.getElementById("chevron_right_icon");
  var chevron_down_icon = document.getElementById("chevron_down_icon");
  var i;

  for (i = 0; i < dropdown.length; i++) {
    dropdown[i].addEventListener("click", function () {
      var dropdownContent = this.nextElementSibling;

      dropdownContent.classList.toggle("block");
      dropdownContent.classList.toggle("hidden");

      chevron_right_icon.classList.toggle("block");
      chevron_right_icon.classList.toggle("hidden");

      chevron_down_icon.classList.toggle("hidden");
      chevron_down_icon.classList.toggle("block");
    });
  }
</script>